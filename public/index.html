<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Zephyr Blueprint Starter</title>
    <link rel="stylesheet" href="../public/styles.css">
    <script type="module">
        import "/src/core/XBase.js";
        import "/src/core/budgets.js";
        import "/src/elements/XButton.js";
        import "/src/elements/XVirtualList.js";
        import "/src/examples/Counter.js";
        // Nothing else required: elements auto-define on import.
    </script>
    <style>
        :root {
            --x-accent: #4f46e5;
            --x-radius: 10px;
            --x-gap: 8px;
            --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        }
        body { font-family: var(--font); margin: 24px; }
        .row { display:flex; gap: var(--x-gap); align-items: center; }
        x-button[variant="primary"] { --bg: var(--x-accent); --fg: white; }
    </style>
</head>
<body>
<h1>Zephyr Blueprint Starter</h1>

<section>
    <h2>Buttons (autonomous custom element)</h2>
    <div class="row">
        <x-button label="Click me"></x-button>
        <x-button label="Primary" variant="primary"></x-button>
        <x-button label="Disabled" disabled></x-button>
    </div>
</section>

<section>
    <h2>Counter (DOM = state)</h2>
    <div id="counter-root" count="0" class="row">
        <span id="count">0</span>
        <x-button id="inc" label="+" aria-label="Increment"></x-button>
        <x-button id="dec" label="-" aria-label="Decrement"></x-button>
    </div>
</section>

<section>
    <h2>Virtual List (10,000 rows)</h2>
    <x-virtual-list id="vlist" item-count="10000" item-height="28" style="height: 300px; border:1px solid #e5e7eb; border-radius: var(--x-radius);"></x-virtual-list>
</section>

<script type="module">
    // Wire demo events
    document.querySelectorAll('x-button').forEach(b => {
        b.addEventListener('button-click', () => console.log('click:', b.getAttribute('label')));
    });

    // Counter demo init
    import Counter from '/src/examples/Counter.js';
    new Counter(document.getElementById('counter-root'));

    // Virtual list demo
    const vlist = document.getElementById('vlist');
    vlist.renderer = (el, i) => {
        el.textContent = `Row ${i}`;
        el.style.padding = '0 8px';
        if (i % 2) el.style.background = '#fafafa'; else el.style.background = 'white';
    };
</script>
</body>
</html>