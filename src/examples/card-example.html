<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XCard - Content Cards Showcase</title>
    <script type="module">
        if (location.hostname.endsWith('github.io')) {
            await import('../core/GHPagesModules.js');
        } else {
            await import('../core/XModules.js');
        }
    </script>
    <style>
        :root {
            --x-accent: #3b82f6;
            --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial;
        }

        body {
            font-family: var(--font);
            margin: 0;
            padding: 20px;
            background: #f8fafc;
            line-height: 1.6;
        }

        .demo-header {
            text-align: center;
            background: white;
            padding: 40px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .demo-header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
            color: #1f2937;
        }

        .demo-header p {
            margin: 0;
            color: #6b7280;
            font-size: 16px;
        }

        .controls-panel {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            align-items: end;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .control-group label {
            font-size: 12px;
            font-weight: 600;
            color: #374151;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .control-group select,
        .control-group input {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 16px;
            height: 16px;
        }

        .cards-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        /* Card content styles */
        .card-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .card-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin: 16px 0;
        }

        .stat-item {
            text-align: center;
            padding: 12px;
            background: #f9fafb;
            border-radius: 6px;
        }

        .stat-value {
            font-size: 20px;
            font-weight: bold;
            color: #1f2937;
            display: block;
        }

        .stat-label {
            font-size: 12px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .card-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 12px 0;
        }

        .badge {
            background: #dbeafe;
            color: #1e40af;
            font-size: 12px;
            font-weight: 500;
            padding: 4px 8px;
            border-radius: 12px;
        }

        .badge.success { background: #d1fae5; color: #065f46; }
        .badge.warning { background: #fef3c7; color: #92400e; }
        .badge.danger { background: #fee2e2; color: #991b1b; }

        .card-actions {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
        }

        .variants-section {
            margin: 40px 0;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 20px;
            text-align: center;
        }

        .variants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        /* Loading state demo */
        .loading-demo {
            background: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin-bottom: 30px;
        }

        /* Event log */
        .event-log {
            background: #1f2937;
            color: #e5e7eb;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            height: 150px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .event-log-item {
            padding: 2px 0;
            border-bottom: 1px solid #374151;
        }

        .event-log-item:last-child {
            border-bottom: none;
        }

        .event-timestamp {
            color: #9ca3af;
            margin-right: 8px;
        }

        .event-type {
            color: #34d399;
            font-weight: 600;
        }
    </style>
</head>
<body>
<div class="demo-header">
    <h1>üé¥ XCard Component Showcase</h1>
    <p>Flexible content cards with headers, bodies, footers, and multiple display options</p>
</div>

<div class="controls-panel">
    <h3 style="margin-top: 0;">üéõÔ∏è Card Controls</h3>
    <div class="controls-grid">
        <div class="control-group">
            <label>Variant</label>
            <select id="variant-select">
                <option value="default">Default</option>
                <option value="primary">Primary</option>
                <option value="success">Success</option>
                <option value="warning">Warning</option>
                <option value="danger">Danger</option>
                <option value="info">Info</option>
            </select>
        </div>

        <div class="control-group">
            <label>Image Position</label>
            <select id="image-position-select">
                <option value="top">Top</option>
                <option value="bottom">Bottom</option>
                <option value="left">Left</option>
                <option value="right">Right</option>
                <option value="none">No Image</option>
            </select>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="elevated-check">
            <label for="elevated-check">Elevated (Shadow)</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="bordered-check" checked>
            <label for="bordered-check">Bordered</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="hoverable-check" checked>
            <label for="hoverable-check">Hoverable</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="clickable-check">
            <label for="clickable-check">Clickable</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="compact-check">
            <label for="compact-check">Compact</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="loading-check">
            <label for="loading-check">Loading State</label>
        </div>
    </div>

    <div style="margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap;">
        <x-button id="update-content-btn" label="Update Content" variant="primary"></x-button>
        <x-button id="change-image-btn" label="Change Image" variant="secondary"></x-button>
        <x-button id="toggle-loading-btn" label="Toggle Loading" variant="outline"></x-button>
    </div>
</div>

<div class="cards-showcase">
    <!-- Main Demo Card -->
    <x-card
            id="demo-card"
            bordered
            hoverable
            image="https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400&h=200&fit=crop"
            image-alt="Game development workspace">

        <div data-card-section="header">
            <div style="display: flex; align-items: center; gap: 12px;">
                <div class="card-avatar">GM</div>
                <div>
                    <h3 style="margin: 0; color: #1f2937;">Game Development Master Class</h3>
                    <p style="margin: 4px 0 0 0; color: #6b7280; font-size: 14px;">Advanced Unity Tutorial Series</p>
                </div>
            </div>
        </div>

        <div data-card-section="body">
            <p>Learn advanced game development techniques with Unity 3D. This comprehensive course covers physics, AI, multiplayer networking, and performance optimization.</p>

            <div class="card-badges">
                <span class="badge">Unity 3D</span>
                <span class="badge success">Advanced</span>
                <span class="badge warning">Popular</span>
            </div>

            <div class="card-stats">
                <div class="stat-item">
                    <span class="stat-value">12</span>
                    <span class="stat-label">Lessons</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">4.8</span>
                    <span class="stat-label">Rating</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">1.2k</span>
                    <span class="stat-label">Students</span>
                </div>
            </div>
        </div>

        <div data-card-section="footer">
            <div class="card-actions">
                <x-button label="Preview" variant="outline" size="sm"></x-button>
                <x-button label="Enroll Now" variant="primary" size="sm"></x-button>
            </div>
        </div>
    </x-card>

    <!-- Profile Card -->
    <x-card elevated hoverable clickable compact>
        <div data-card-section="header">
            <div style="display: flex; align-items: center; gap: 12px;">
                <div class="card-avatar">JD</div>
                <div>
                    <h4 style="margin: 0;">John Developer</h4>
                    <p style="margin: 4px 0 0 0; color: #6b7280; font-size: 13px;">Senior Game Developer</p>
                </div>
            </div>
        </div>

        <div data-card-section="body">
            <p style="margin: 0; font-size: 14px;">10+ years creating indie games. Specializes in 2D platformers and puzzle games. Currently working on a new RPG project.</p>
        </div>

        <div data-card-section="footer">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="color: #10b981; font-size: 12px; font-weight: 500;">‚óè Online</span>
                <x-button label="Follow" variant="primary" size="sm"></x-button>
            </div>
        </div>
    </x-card>

    <!-- Project Card -->
    <x-card
            variant="primary"
            bordered
            hoverable
            image="https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400&h=200&fit=crop"
            image-position="left">

        <div data-card-section="header">
            <h4 style="margin: 0;">üöÄ Space Explorer RPG</h4>
        </div>

        <div data-card-section="body">
            <p style="margin: 0 0 12px 0; font-size: 14px;">An epic space exploration game with deep RPG mechanics, resource management, and epic space battles.</p>
            <div class="card-badges">
                <span class="badge">RPG</span>
                <span class="badge success">In Development</span>
            </div>
        </div>

        <div data-card-section="footer">
            <div style="display: flex; justify-content: space-between; align-items: center; font-size: 13px; color: #6b7280;">
                <span>Progress: 75%</span>
                <span>Release: Q2 2024</span>
            </div>
        </div>
    </x-card>
</div>

<!-- Card Variants Section -->
<div class="variants-section">
    <h2 class="section-title">üé® Card Variants</h2>
    <div class="variants-grid">
        <x-card variant="default" bordered>
            <div data-card-section="header">Default Card</div>
            <div data-card-section="body">Standard card styling with neutral colors.</div>
        </x-card>

        <x-card variant="primary" bordered>
            <div data-card-section="header">Primary Card</div>
            <div data-card-section="body">Highlighted with primary brand colors.</div>
        </x-card>

        <x-card variant="success" bordered>
            <div data-card-section="header">Success Card</div>
            <div data-card-section="body">Perfect for positive status updates.</div>
        </x-card>

        <x-card variant="warning" bordered>
            <div data-card-section="header">Warning Card</div>
            <div data-card-section="body">Draws attention to important notices.</div>
        </x-card>

        <x-card variant="danger" bordered>
            <div data-card-section="header">Danger Card</div>
            <div data-card-section="body">For error states and critical alerts.</div>
        </x-card>

        <x-card variant="info" bordered>
            <div data-card-section="header">Info Card</div>
            <div data-card-section="body">Informational content and tips.</div>
        </x-card>
    </div>
</div>

<!-- Loading State Demo -->
<div class="loading-demo">
    <h3>‚è≥ Loading State Demo</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
        <x-card id="loading-card-1" bordered loading>
            <div data-card-section="header">Loading Card</div>
            <div data-card-section="body">This card is in loading state...</div>
        </x-card>

        <x-card id="loading-card-2" bordered elevated>
            <div data-card-section="header">Normal Card</div>
            <div data-card-section="body">This card loads instantly.</div>
        </x-card>
    </div>

    <div style="margin-top: 16px;">
        <x-button id="simulate-loading" label="Simulate Loading" variant="primary"></x-button>
    </div>
</div>

<!-- Event Log -->
<div>
    <h3>üìã Event Log</h3>
    <div id="event-log" class="event-log">
        <div class="event-log-item">
            <span class="event-timestamp">[Ready]</span>
            <span class="event-type">system</span>
            Card demo initialized
        </div>
    </div>
</div>

<script type="module">
    class CardDemo {
        constructor() {
            this.demoCard = document.getElementById('demo-card');
            this.eventLog = document.getElementById('event-log');
            this.sampleImages = [
                'https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400&h=200&fit=crop',
                'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400&h=200&fit=crop',
                'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=400&h=200&fit=crop',
                'https://images.unsplash.com/photo-1493711662062-fa541adb3fc8?w=400&h=200&fit=crop'
            ];
            this.currentImageIndex = 0;

            this.initControls();
            this.initEventListeners();
        }

        initControls() {
            // Variant selector
            document.getElementById('variant-select').addEventListener('change', (e) => {
                this.demoCard.setAttr('variant', e.target.value);
                this.logEvent('variant-change', `Changed to ${e.target.value}`);
            });

            // Image position selector
            document.getElementById('image-position-select').addEventListener('change', (e) => {
                if (e.target.value === 'none') {
                    this.demoCard.removeAttribute('image');
                    this.demoCard.removeAttribute('image-position');
                } else {
                    this.demoCard.setAttr('image', this.sampleImages[0]);
                    this.demoCard.setAttr('image-position', e.target.value);
                }
                this.logEvent('image-position-change', `Changed to ${e.target.value}`);
            });

            // Checkbox controls
            const checkboxes = [
                { id: 'elevated-check', attr: 'elevated' },
                { id: 'bordered-check', attr: 'bordered' },
                { id: 'hoverable-check', attr: 'hoverable' },
                { id: 'clickable-check', attr: 'clickable' },
                { id: 'compact-check', attr: 'compact' },
                { id: 'loading-check', attr: 'loading' }
            ];

            checkboxes.forEach(({ id, attr }) => {
                document.getElementById(id).addEventListener('change', (e) => {
                    if (e.target.checked) {
                        this.demoCard.setAttr(attr, '');
                    } else {
                        this.demoCard.removeAttribute(attr);
                    }
                    this.logEvent('attribute-change', `${attr}: ${e.target.checked}`);
                });
            });

            // Action buttons
            document.getElementById('update-content-btn').addEventListener('button-click', () => {
                this.updateCardContent();
            });

            document.getElementById('change-image-btn').addEventListener('button-click', () => {
                this.changeCardImage();
            });

            document.getElementById('toggle-loading-btn').addEventListener('button-click', () => {
                this.demoCard.setLoading(!this.demoCard.hasAttribute('loading'));
            });

            // Loading simulation
            document.getElementById('simulate-loading').addEventListener('button-click', () => {
                this.simulateLoading();
            });
        }

        initEventListeners() {
            // Card click events
            this.demoCard.addEventListener('card-click', (e) => {
                this.logEvent('card-click', 'Demo card clicked');
                console.log('Card clicked:', e.detail);
            });

            // Listen to all card clicks in the page
            document.addEventListener('card-click', (e) => {
                if (e.target !== this.demoCard) {
                    this.logEvent('card-click', `Card clicked: ${e.target.id || 'unnamed'}`);
                }
            });
        }

        updateCardContent() {
            const newContent = {
                header: `
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div class="card-avatar">UD</div>
                            <div>
                                <h3 style="margin: 0; color: #1f2937;">Updated Content</h3>
                                <p style="margin: 4px 0 0 0; color: #6b7280; font-size: 14px;">${new Date().toLocaleTimeString()}</p>
                            </div>
                        </div>
                    `,
                body: `
                        <p>This content was dynamically updated using the XCard API! The updateContent() method allows you to change any section programmatically.</p>
                        <div class="card-badges">
                            <span class="badge success">Updated</span>
                            <span class="badge">Dynamic</span>
                        </div>
                    `,
                footer: `
                        <div class="card-actions">
                            <span style="color: #10b981; font-size: 12px;">‚úÖ Content updated successfully</span>
                        </div>
                    `
            };

            this.demoCard.updateContent('header', newContent.header);
            this.demoCard.updateContent('body', newContent.body);
            this.demoCard.updateContent('footer', newContent.footer);

            this.logEvent('content-update', 'Card content updated programmatically');
        }

        changeCardImage() {
            this.currentImageIndex = (this.currentImageIndex + 1) % this.sampleImages.length;
            const newImage = this.sampleImages[this.currentImageIndex];
            this.demoCard.setImage(newImage, 'Updated game development image');
            this.logEvent('image-change', `Image changed to index ${this.currentImageIndex}`);
        }

        simulateLoading() {
            const cards = [
                document.getElementById('loading-card-1'),
                document.getElementById('loading-card-2')
            ];

            cards.forEach((card, index) => {
                card.setLoading(true);

                // Simulate different loading times
                setTimeout(() => {
                    card.setLoading(false);
                    this.logEvent('loading-complete', `Card ${index + 1} finished loading`);
                }, (index + 1) * 1500);
            });

            this.logEvent('loading-start', 'Started loading simulation');
        }

        logEvent(type, message) {
            const timestamp = new Date().toLocaleTimeString();
            const logItem = document.createElement('div');
            logItem.className = 'event-log-item';
            logItem.innerHTML = `
                    <span class="event-timestamp">[${timestamp}]</span>
                    <span class="event-type">${type}</span>
                    ${message}
                `;

            this.eventLog.appendChild(logItem);
            this.eventLog.scrollTop = this.eventLog.scrollHeight;

            // Keep only last 20 entries
            while (this.eventLog.children.length > 20) {
                this.eventLog.removeChild(this.eventLog.firstChild);
            }
        }
    }

    // Initialize demo when DOM is ready
    new CardDemo();
</script>
</body>
</html>