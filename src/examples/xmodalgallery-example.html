<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XModalGallery - Complete Example</title>
    <script type="module">
        import '/src/core/XBase.js';
        import '/src/elements/XModalGallery.js';
        import '/src/elements/XButton.js';
    </script>
    <style>
        :root {
            --x-accent: #3b82f6;
            --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: var(--font);
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .page-header {
            text-align: center;
            padding: 40px 20px;
            color: white;
        }

        .page-header h1 {
            margin: 0 0 10px 0;
            font-size: 32px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .page-header p {
            margin: 0;
            font-size: 16px;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .controls-panel {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .panel-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin: 0 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #f3f4f6;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .checkbox-control {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
        }

        .checkbox-control input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--x-accent);
        }

        .checkbox-control label {
            font-size: 14px;
            color: #374151;
            cursor: pointer;
            user-select: none;
        }

        .select-control {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .select-control label {
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .select-control select {
            padding: 10px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            transition: border-color 0.2s ease;
        }

        .select-control select:focus {
            outline: none;
            border-color: var(--x-accent);
        }

        .actions-row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid #e5e7eb;
        }

        .gallery-section {
            background: white;
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin: 0;
        }

        .section-subtitle {
            font-size: 14px;
            color: #6b7280;
            margin: 4px 0 0 0;
        }

        .gallery-grid {
            display: grid;
            gap: 20px;
            margin-bottom: 24px;
        }

        .photography-grid {
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        }

        .portfolio-grid {
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        }

        .product-grid {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }

        .gallery-card {
            position: relative;
            background: #f8fafc;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .gallery-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
            border-color: var(--x-accent);
        }

        .card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .portfolio-card .card-image {
            height: 240px;
        }

        .product-card .card-image {
            height: 180px;
        }

        .card-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: white;
            padding: 20px 16px 16px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-card:hover .card-overlay {
            transform: translateY(0);
        }

        .card-title {
            font-size: 14px;
            font-weight: 600;
            margin: 0 0 4px 0;
        }

        .card-description {
            font-size: 12px;
            opacity: 0.9;
            margin: 0;
            line-height: 1.4;
        }

        .stats-panel {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
        }

        .stat-card {
            text-align: center;
            padding: 16px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .stat-value {
            display: block;
            font-size: 24px;
            font-weight: 700;
            color: var(--x-accent);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 11px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        .event-logger {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .event-log {
            background: #1e293b;
            color: #e2e8f0;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: 12px;
            height: 200px;
            overflow-y: auto;
            border: 2px solid #334155;
        }

        .log-entry {
            padding: 3px 0;
            border-bottom: 1px solid #334155;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .log-time {
            color: #94a3b8;
            font-size: 10px;
            min-width: 60px;
        }

        .log-type {
            color: #10b981;
            font-weight: 600;
            font-size: 10px;
            text-transform: uppercase;
            min-width: 60px;
        }

        .log-message {
            flex: 1;
            font-size: 11px;
        }

        .gallery-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(59, 130, 246, 0.9);
            color: white;
            font-size: 10px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .quick-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 12px;
            }

            .page-header {
                padding: 20px 12px;
            }

            .page-header h1 {
                font-size: 24px;
            }

            .controls-grid {
                grid-template-columns: 1fr;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Custom scrollbar for event log */
        .event-log::-webkit-scrollbar {
            width: 6px;
        }

        .event-log::-webkit-scrollbar-track {
            background: #334155;
        }

        .event-log::-webkit-scrollbar-thumb {
            background: #64748b;
            border-radius: 3px;
        }

        .event-log::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body>
<div class="page-header">
    <h1>XModalGallery Showcase</h1>
    <p>A comprehensive demonstration of the modal gallery component featuring photography, portfolio work, and product showcases with full customization controls.</p>
</div>

<div class="container">
    <!-- Controls Panel -->
    <div class="controls-panel">
        <h3 class="panel-title">Gallery Configuration</h3>

        <div class="controls-grid">
            <div class="checkbox-control">
                <input type="checkbox" id="show-thumbnails" checked>
                <label for="show-thumbnails">Show Thumbnails</label>
            </div>

            <div class="checkbox-control">
                <input type="checkbox" id="show-captions" checked>
                <label for="show-captions">Show Captions</label>
            </div>

            <div class="checkbox-control">
                <input type="checkbox" id="show-counter" checked>
                <label for="show-counter">Show Counter</label>
            </div>

            <div class="checkbox-control">
                <input type="checkbox" id="auto-play">
                <label for="auto-play">Auto Play Mode</label>
            </div>

            <div class="checkbox-control">
                <input type="checkbox" id="loop" checked>
                <label for="loop">Loop Navigation</label>
            </div>

            <div class="checkbox-control">
                <input type="checkbox" id="keyboard-nav" checked>
                <label for="keyboard-nav">Keyboard Controls</label>
            </div>

            <div class="checkbox-control">
                <input type="checkbox" id="touch-nav" checked>
                <label for="touch-nav">Touch Gestures</label>
            </div>

            <div class="checkbox-control">
                <input type="checkbox" id="zoom-enabled" checked>
                <label for="zoom-enabled">Zoom & Pan</label>
            </div>
        </div>

        <div style="max-width: 200px;">
            <div class="select-control">
                <label for="auto-play-delay">Auto Play Delay</label>
                <select id="auto-play-delay">
                    <option value="2000">2 seconds</option>
                    <option value="3000" selected>3 seconds</option>
                    <option value="5000">5 seconds</option>
                    <option value="8000">8 seconds</option>
                </select>
            </div>
        </div>

        <div class="actions-row">
            <div class="quick-actions">
                <x-button id="add-item-btn" label="Add Item" variant="primary" size="sm"></x-button>
                <x-button id="remove-item-btn" label="Remove Last" variant="danger" size="sm"></x-button>
                <x-button id="random-open-btn" label="Random Gallery" variant="outline" size="sm"></x-button>
                <x-button id="clear-log-btn" label="Clear Log" variant="ghost" size="sm"></x-button>
            </div>
        </div>
    </div>

    <!-- Stats Panel -->
    <div class="stats-panel">
        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-value" id="total-items">0</span>
                <div class="stat-label">Total Items</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="current-index">-</span>
                <div class="stat-label">Current Index</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="gallery-status">Closed</span>
                <div class="stat-label">Gallery Status</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="event-count">0</span>
                <div class="stat-label">Events Logged</div>
            </div>
        </div>
    </div>

    <!-- Photography Gallery -->
    <div class="gallery-section">
        <div class="section-header">
            <div>
                <h2 class="section-title">Nature Photography</h2>
                <p class="section-subtitle">Stunning landscape and wildlife photography collection</p>
            </div>
            <x-button id="open-photography" label="Open Gallery" variant="success"></x-button>
        </div>

        <div class="gallery-grid photography-grid" id="photography-grid">
            <!-- Photography items will be generated here -->
        </div>

        <x-modal-gallery
                id="photography-gallery"
                show-thumbnails
                show-captions
                show-counter
                loop
                keyboard-nav
                touch-nav
                zoom-enabled>
        </x-modal-gallery>
    </div>

    <!-- Portfolio Gallery -->
    <div class="gallery-section">
        <div class="section-header">
            <div>
                <h2 class="section-title">Design Portfolio</h2>
                <p class="section-subtitle">Creative design work and digital art showcase</p>
            </div>
            <x-button id="open-portfolio" label="View Portfolio" variant="primary"></x-button>
        </div>

        <div class="gallery-grid portfolio-grid" id="portfolio-grid">
            <!-- Portfolio items will be generated here -->
        </div>

        <x-modal-gallery
                id="portfolio-gallery"
                show-thumbnails
                show-captions
                show-counter
                auto-play
                auto-play-delay="4000"
                loop
                keyboard-nav
                zoom-enabled>
        </x-modal-gallery>
    </div>

    <!-- Product Gallery -->
    <div class="gallery-section">
        <div class="section-header">
            <div>
                <h2 class="section-title">Product Showcase</h2>
                <p class="section-subtitle">Professional product photography and e-commerce images</p>
            </div>
            <x-button id="open-products" label="Browse Products" variant="info"></x-button>
        </div>

        <div class="gallery-grid product-grid" id="product-grid">
            <!-- Product items will be generated here -->
        </div>

        <x-modal-gallery
                id="product-gallery"
                show-thumbnails
                show-captions
                show-counter
                keyboard-nav
                touch-nav
                zoom-enabled>
        </x-modal-gallery>
    </div>

    <!-- Event Logger -->
    <div class="event-logger">
        <h3 class="panel-title">Event Monitor</h3>
        <div id="event-log" class="event-log">
            <div class="log-entry">
                <span class="log-time">00:00</span>
                <span class="log-type">system</span>
                <span class="log-message">Gallery demo initialized successfully</span>
            </div>
        </div>
    </div>
</div>

<script type="module">
    class ModalGalleryShowcase {
        constructor() {
            this.galleries = {
                photography: document.getElementById('photography-gallery'),
                portfolio: document.getElementById('portfolio-gallery'),
                product: document.getElementById('product-gallery')
            };

            this.eventLog = document.getElementById('event-log');
            this.eventCount = 0;
            this.startTime = Date.now();

            this.initializeGalleries();
            this.setupControls();
            this.setupEventListeners();
            this.updateStats();

            this.log('system', 'All galleries initialized and ready');
        }

        initializeGalleries() {
            this.createPhotographyGallery();
            this.createPortfolioGallery();
            this.createProductGallery();
        }

        createPhotographyGallery() {
            const items = [
                {
                    src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=800&fit=crop',
                    caption: 'Mountain landscape at sunrise with golden light reflecting off snow-capped peaks and pristine alpine lakes.',
                    alt: 'Mountain Sunrise'
                },
                {
                    src: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200&h=800&fit=crop',
                    caption: 'Dense forest path with morning mist filtering through ancient trees, creating an ethereal atmosphere.',
                    alt: 'Misty Forest Path'
                },
                {
                    src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=800&fit=crop',
                    caption: 'Dramatic seascape with powerful waves crashing against rugged coastal cliffs during golden hour.',
                    alt: 'Ocean Cliffs'
                },
                {
                    src: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1200&h=800&fit=crop',
                    caption: 'Desert landscape under starry night sky, showcasing the Milky Way galaxy in all its cosmic glory.',
                    alt: 'Desert Night Sky'
                },
                {
                    src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=800&fit=crop',
                    caption: 'Peaceful lake reflection with surrounding mountains and clouds perfectly mirrored in still water.',
                    alt: 'Lake Reflection'
                },
                {
                    src: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200&h=800&fit=crop',
                    caption: 'Wildlife photography capturing a majestic eagle in flight against a clear blue sky.',
                    alt: 'Eagle in Flight'
                }
            ];

            this.galleries.photography.setItems(items);
            this.renderGalleryGrid('photography-grid', items, 'photography');
        }

        createPortfolioGallery() {
            const items = [
                {
                    src: 'https://images.unsplash.com/photo-1561070791-2526d30994b5?w=1200&h=800&fit=crop',
                    caption: 'Modern web design project featuring clean typography, bold colors, and intuitive user interface elements.',
                    alt: 'Web Design Project'
                },
                {
                    src: 'https://images.unsplash.com/photo-1558655146-d09347e92766?w=1200&h=800&fit=crop',
                    caption: 'Mobile app interface design with focus on user experience and modern design principles.',
                    alt: 'Mobile App Design'
                },
                {
                    src: 'https://images.unsplash.com/photo-1604869515882-4d10fa4b0492?w=1200&h=800&fit=crop',
                    caption: 'Brand identity design including logo, color palette, and typography for a tech startup.',
                    alt: 'Brand Identity'
                },
                {
                    src: 'https://images.unsplash.com/photo-1581291518857-4e27b48ff24e?w=1200&h=800&fit=crop',
                    caption: 'Print design work featuring elegant layout design for editorial and marketing materials.',
                    alt: 'Print Design'
                },
                {
                    src: 'https://images.unsplash.com/photo-1558655146-d09347e92766?w=1200&h=800&fit=crop',
                    caption: 'Digital illustration and artwork created for various client projects and personal expression.',
                    alt: 'Digital Illustration'
                }
            ];

            this.galleries.portfolio.setItems(items);
            this.renderGalleryGrid('portfolio-grid', items, 'portfolio');
        }

        createProductGallery() {
            const items = [
                {
                    src: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=1200&h=800&fit=crop',
                    caption: 'Premium watch collection featuring Swiss craftsmanship and timeless design elegance.',
                    alt: 'Luxury Watch'
                },
                {
                    src: 'https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=1200&h=800&fit=crop',
                    caption: 'Modern sunglasses with UV protection and stylish frames perfect for any occasion.',
                    alt: 'Designer Sunglasses'
                },
                {
                    src: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=1200&h=800&fit=crop',
                    caption: 'High-quality headphones delivering exceptional sound quality and comfortable fit.',
                    alt: 'Premium Headphones'
                },
                {
                    src: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=1200&h=800&fit=crop',
                    caption: 'Athletic footwear combining performance technology with contemporary street style.',
                    alt: 'Running Shoes'
                },
                {
                    src: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=1200&h=800&fit=crop',
                    caption: 'Smart device accessories designed for the modern digital lifestyle and connectivity.',
                    alt: 'Tech Accessories'
                },
                {
                    src: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=1200&h=800&fit=crop',
                    caption: 'Premium coffee products sourced from sustainable farms around the world.',
                    alt: 'Artisan Coffee'
                }
            ];

            this.galleries.product.setItems(items);
            this.renderGalleryGrid('product-grid', items, 'product');
        }

        renderGalleryGrid(gridId, items, galleryType) {
            const grid = document.getElementById(gridId);
            grid.innerHTML = '';

            items.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = `gallery-card ${galleryType}-card`;

                card.innerHTML = `
                        <div class="gallery-badge">${galleryType}</div>
                        <img class="card-image" src="${item.src}&w=400&h=300" alt="${item.alt}">
                        <div class="card-overlay">
                            <h4 class="card-title">${item.alt}</h4>
                            <p class="card-description">${item.caption.substring(0, 80)}...</p>
                        </div>
                    `;

                card.addEventListener('click', () => {
                    this.galleries[galleryType].open(index);
                    this.log('user-action', `Opened ${galleryType} gallery at index ${index}`);
                });

                grid.appendChild(card);
            });
        }

        setupControls() {
            // Checkbox controls
            const controls = [
                'show-thumbnails', 'show-captions', 'show-counter',
                'auto-play', 'loop', 'keyboard-nav', 'touch-nav', 'zoom-enabled'
            ];

            controls.forEach(controlId => {
                const checkbox = document.getElementById(controlId);
                checkbox.addEventListener('change', (e) => {
                    const attr = controlId;
                    Object.values(this.galleries).forEach(gallery => {
                        if (e.target.checked) {
                            gallery.setAttr(attr, '');
                        } else {
                            gallery.removeAttribute(attr);
                        }
                    });
                    this.log('config', `${attr}: ${e.target.checked}`);
                });
            });

            // Auto play delay
            document.getElementById('auto-play-delay').addEventListener('change', (e) => {
                Object.values(this.galleries).forEach(gallery => {
                    gallery.setAttr('auto-play-delay', e.target.value);
                });
                this.log('config', `Auto play delay: ${e.target.value}ms`);
            });

            // Action buttons
            document.getElementById('add-item-btn').addEventListener('button-click', () => {
                this.addRandomItem();
            });

            document.getElementById('remove-item-btn').addEventListener('button-click', () => {
                this.removeLastItem();
            });

            document.getElementById('random-open-btn').addEventListener('button-click', () => {
                this.openRandomGallery();
            });

            document.getElementById('clear-log-btn').addEventListener('button-click', () => {
                this.clearLog();
            });

            // Gallery open buttons
            document.getElementById('open-photography').addEventListener('button-click', () => {
                this.galleries.photography.open();
            });

            document.getElementById('open-portfolio').addEventListener('button-click', () => {
                this.galleries.portfolio.open();
            });

            document.getElementById('open-products').addEventListener('button-click', () => {
                this.galleries.product.open();
            });
        }

        setupEventListeners() {
            Object.entries(this.galleries).forEach(([name, gallery]) => {
                gallery.addEventListener('gallery-opened', (e) => {
                    this.log('gallery', `${name} gallery opened at index ${e.detail.index}`);
                    this.updateStats();
                });

                gallery.addEventListener('gallery-closed', () => {
                    this.log('gallery', `${name} gallery closed`);
                    this.updateStats();
                });

                gallery.addEventListener('gallery-changed', (e) => {
                    this.log('navigation', `${name}: moved to index ${e.detail.index}`);
                    this.updateStats();
                });

                gallery.addEventListener('image-loaded', (e) => {
                    this.log('media', `Image loaded in ${name} gallery`);
                });
            });
        }

        addRandomItem() {
            const newItems = [
                {
                    src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=800&fit=crop',
                    caption: 'Newly added scenic landscape with breathtaking views and natural beauty.',
                    alt: 'New Landscape'
                },
                {
                    src: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1200&h=800&fit=crop',
                    caption: 'Another beautiful addition to our growing collection of stunning imagery.',
                    alt: 'New Addition'
                }
            ];

            const randomItem = newItems[Math.floor(Math.random() * newItems.length)];
            const currentItems = this.galleries.photography.getItems();
            this.galleries.photography.setItems([...currentItems, randomItem]);

            // Update the grid
            this.renderGalleryGrid('photography-grid', this.galleries.photography.getItems(), 'photography');

            this.updateStats();
            this.log('modify', `Added new item: ${randomItem.alt}`);
        }

        removeLastItem() {
            const currentItems = this.galleries.photography.getItems();
            if (currentItems.length > 1) {
                this.galleries.photography.setItems(currentItems.slice(0, -1));
                this.renderGalleryGrid('photography-grid', this.galleries.photography.getItems(), 'photography');
                this.updateStats();
                this.log('modify', 'Removed last item from photography gallery');
            } else {
                this.log('error', 'Cannot remove - minimum one item required');
            }
        }

        openRandomGallery() {
            const galleryNames = Object.keys(this.galleries);
            const randomGalleryName = galleryNames[Math.floor(Math.random() * galleryNames.length)];
            const randomGallery = this.galleries[randomGalleryName];
            const items = randomGallery.getItems();
            const randomIndex = Math.floor(Math.random() * items.length);

            randomGallery.open(randomIndex);
            this.log('random', `Opened ${randomGalleryName} gallery at random index ${randomIndex}`);
        }

        updateStats() {
            const totalItems = Object.values(this.galleries).reduce((sum, gallery) => {
                return sum + gallery.getItems().length;
            }, 0);

            const openGallery = Object.values(this.galleries).find(gallery => gallery.isOpen());
            const currentIndex = openGallery ? openGallery.getCurrentIndex() + 1 : '-';
            const status = openGallery ? 'Open' : 'Closed';

            document.getElementById('total-items').textContent = totalItems;
            document.getElementById('current-index').textContent = currentIndex;
            document.getElementById('gallery-status').textContent = status;
            document.getElementById('event-count').textContent = this.eventCount;
        }

        log(type, message) {
            this.eventCount++;
            const now = new Date();
            const elapsed = Math.floor((now.getTime() - this.startTime) / 1000);
            const timeStr = `${Math.floor(elapsed / 60)}:${(elapsed % 60).toString().padStart(2, '0')}`;

            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `
                    <span class="log-time">${timeStr}</span>
                    <span class="log-type">${type}</span>
                    <span class="log-message">${message}</span>
                `;

            this.eventLog.appendChild(entry);
            this.eventLog.scrollTop = this.eventLog.scrollHeight;

            // Keep only the last 50 entries
            while (this.eventLog.children.length > 50) {
                this.eventLog.removeChild(this.eventLog.firstChild);
            }

            this.updateStats();
        }

        clearLog() {
            this.eventLog.innerHTML = `
                    <div class="log-entry">
                        <span class="log-time">--:--</span>
                        <span class="log-type">system</span>
                        <span class="log-message">Event log cleared</span>
                    </div>
                `;
            this.eventCount = 1;
            this.startTime = Date.now();
            this.updateStats();
        }
    }

    // Initialize the showcase when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
        new ModalGalleryShowcase();
    });

    // Keyboard shortcuts for quick testing
    document.addEventListener('keydown', (e) => {
        if (e.ctrlKey || e.metaKey) {
            switch (e.key.toLowerCase()) {
                case '1':
                    e.preventDefault();
                    document.getElementById('open-photography').click();
                    break;
                case '2':
                    e.preventDefault();
                    document.getElementById('open-portfolio').click();
                    break;
                case '3':
                    e.preventDefault();
                    document.getElementById('open-products').click();
                    break;
            }
        }
    });
</script>
</body>
</html>